{"version":3,"sources":["Components/DefaultConfiguration.js","Components/GenotypeSelect.js","Components/ReferenceForm.js","Components/CompareForm.js","Components/TrackOptionsSelect.js","Components/HeatConfig.js","Components/HistConfig.js","Components/HaploConfig.js","Components/BaseOptionsSelect.js","Components/OptionsForm.js","Components/HelpTopics/About.js","Components/HelpTopics/ReferenceGenotype.js","Components/HelpTopics/ComparisonGenotype.js","Components/HelpTopics/GeneralOptions.js","Components/HelpTopics/DisplayNone.js","Components/HelpTopics/DisplayHaplotype.js","Components/HelpTopics/DisplayHistogram.js","Components/HelpTopics/DisplayHeat.js","Components/HelpModal.js","Components/DownloadModal.js","Components/DisplayButton.js","App.js","serviceWorker.js","index.js"],"names":["rulerDisplayDefault","rulerDisplayOptions","rulerIntervalDefault","binSizeDefault","titleDefault","colorDefault","popover","position","zIndex","cover","top","right","bottom","left","GenotypeSelector","state","selectedDataset","selectedGenotype","displayColorPicker","color","datasetChange","_this","setState","props","setDataset","append","dataset","genotype","appendDataset","idx","gtChange","colorClick","colorClose","formatDatasetValue","colorSet","hex","this","selected","_this2","_this$state","gtOpt","genotypes","react_default","a","createElement","className","onClick","style","background","react_color_lib","onChange","react_select_browser_esm","defaultValue","label","classNamePrefix","value","isClearable","isDisabled","filterOption","createFilter","ignoreAccents","options","datasets","components","Option","CustomOption","length","undefined","removeOption","React","Component","_this$props","innerProps","otherProps","isFocused","Object","objectWithoutProperties","otherInnerProps","onMouseMove","onMouseOver","newProps","objectSpread","chunk_762c4cd6_browser_esm","assign","children","ReferenceForm","GenotypeSelect_GenotypeSelector","CompareForm","count","rm","filter","opt","key","concat","addOption","A","prevProps","prevState","snapshot","displayFormats","comparisonFormats","heatFormat","heatColorFormat","TrackOptions","displayAs","compare","filters","heat","heatColor","viewConfig","maxValue","minValue","setConfiguration","format","side","forEach","gt","feature","glyph","display","draw_as","invert_value","min","max","width","offset","bin_size","bin_min","bin_max","by_class","class_filter","map","class_offset","class_heat","draw_label","max_distance","border","value_base","generate_bins","count_classes","transparent","transparent_percent","heatConfig","enable_pileup","border_width","histConfig","class_space","haploConfig","optionsUpdate","toLowerCase","displayChange","compareChange","filterChange","heatColorChange","heatChange","maxChange","parseInt","target","hapMax","minChange","_this$state2","filterFormats","isMulti","name","type","id","placeholder","onInput","e","BaseOptions","rulerDisplay","binSize","rulerInterval","title","rulerChange","values","titleChange","binChange","intervalChange","OptionsForm","group","general","tick_interval","display_ruler","setOptions","BaseOptionsSelect_BaseOptions","TrackOptionsSelect_TrackOptions","About","height","src","frameBorder","allow","allowFullScreen","ReferenceGenotype","hideInfo","maxHeight","href","ComparisonGenotype","GeneralOptions","DisplayNone","DisplayHaplotype","DisplayHistogram","DisplayHeat","HelpModal","About_About","ReferenceGenotype_ReferenceGenotype","ComparisonGenotype_ComparisonGenotype","GeneralOptions_GeneralOptions","DisplayNone_DisplayNone","DisplayHistogram_DisplayHistogram","DisplayHeat_DisplayHeat","DisplayHaplotype_DisplayHaplotype","closeAction","DataModal","quality","gffOptions","chromosome","diff","same","total","exportImage","blob","url","URL","createObjectURL","saveImage","link","document","download","body","appendChild","click","onClickImage","paper","window","cvit","model","console","log","encodeURIComponent","project","exportSVG","asString","view","element","toBlob","onClickData","gff","data","gffOpts","hasOwnProperty","dataGroup","features","line","seqName","source","start","end","score","strand","frame","attributes","attribute","win","open","write","evt","onSelect","onChecked","checked","DisplayButton","priorRequest","request","interval","response","onSubmit","headers","requestString","classes","query","i","Error","_viewConfig","hide","getElementById","visibility","hideOptions","_viewData","appendData","method","then","_viewLayout","chrOrder","_setChrOrder","refMax","vd","keys","chr","maxScore","setView","catch","error","_combineObjects","_redraw","setDirty","_inform","App","referenceDataset","showModal","auth","process","REACT_APP_USE_AUTH","user","pwd","authHeader","Headers","loadDatasets","header","arguments","fetch","json","slice","val","result","JSON","parse","stringify","handleCloseModal","handleOpenModal","userChange","passwordChange","checkAuthState","authString","btoa","status","alert","logout","gts","lib_default","isOpen","onRequestClose","shouldCloseOnOverlayClick","DownloadModal_DataModal","HelpModal_HelpModal","overflow","has","ReferenceForm_ReferenceForm","CompareForm_CompareForm","OptionsForm_OptionsForm","DisplayButton_DisplayButton","Boolean","location","hostname","match","ReactDOM","render","App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.56947b12.chunk.js","sourcesContent":["/**\n * Side of drawing to display the ruler\n */\nexport function rulerDisplayDefault(rulerDisplayOptions) { return rulerDisplayOptions[0]}; //0-LHS,1-RHS,2-Both,3-None\n\n\n/**\n * Distance in default units between major tick ines in ruler\n */\nexport const rulerIntervalDefault = 5000000;\n\n/**\n * Size of display \"bin\" for counts\n */\nexport const binSizeDefault = 500000;\n\n/**\n * Default title\n */\nexport const titleDefault  = \"\";\n\n/**\n * Default feature color\n */\nexport const colorDefault = '#19741A';\n","import React  from 'react';\nimport Select, {createFilter, components} from 'react-select';\nimport {SketchPicker} from 'react-color';\nimport {colorDefault} from './DefaultConfiguration';\n\nconst popover = {\n\tposition: 'absolute',\n\tzIndex: '2'\n};\n\nconst cover = {\n\tposition: 'fixed',\n\ttop: '0px',\n\tright: '0px',\n\tbottom: '0px',\n\tleft: '0px',\n};\n\n/**\n * Selector dropdown for a new genotype option\n */\nexport default class GenotypeSelector extends React.Component {\n\n\tstate = {\n\t\tselectedDataset: null,\n\t\tselectedGenotype: null,\n\t\tdisplayColorPicker: false,\n\t\tcolor: colorDefault\n\t};\n\n\tformatDatasetValue(){\n\t\treturn {\n\t\t\tdataset: this.state.selectedDataset || null,\n\t\t\tgenotype: this.state.selectedGenotype || null,\n\t\t\tcolor: this.state.color || null\n\t\t}\n\t};\n\n\tdatasetChange = (selectedDataset) => {\n\t\tthis.setState({ selectedDataset, selectedGenotype: null });\n\t\tthis.props.setDataset(selectedDataset);\n\t\tlet append = { dataset: selectedDataset, genotype:null, color: this.state.color||null};\n\t\tthis.props.appendDataset(this.props.idx, append)\n\t};\n\n\tgtChange = (selectedGenotype) => {\n\t\tthis.setState({ selectedGenotype });\n\t\tlet append = { dataset: this.state.selectedDataset, genotype: selectedGenotype, color: this.state.color||null};\n\t\tthis.props.appendDataset(this.props.idx, append);\n\t};\n\n\tcolorClick = () => {\n\t\tthis.setState({displayColorPicker : true})\n\t};\n\n\tcolorClose = () => {\n\t\tthis.setState({displayColorPicker : false});\n\t\tthis.props.appendDataset(this.props.idx, this.formatDatasetValue())\n\t};\n\n\tcolorSet = (color) => {\n\t\tthis.setState({color: color.hex})\n\t};\n\n\tcomponentDidMount() {\n\t\tif(this.props.selected){\n\t\t\tthis.setState({'selectedDataset':this.props.selected})\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { selectedDataset, selectedGenotype } = this.state;\n\t\tconst { idx } = this.props;\n\t\tconst gtOpt = this.props.genotypes !== null ? this.props.genotypes : [];\n\t\treturn (\n\t\t\t<div>\n\t\t\t<div className={'pure-g genotype-select'}>\n\t\t\t\t<div className={'pure-u-1-12 l-box '}>\n\t\t\t\t\t<span> Color </span><br/>\n\t\t\t\t\t<div className={'fake-button git-option'} onClick={this.colorClick} style={{background:this.state.color, zIndex:1 }} />\n\t\t\t\t\t{ this.state.displayColorPicker\n\t\t\t\t\t\t?<div>\n\t\t\t\t\t\t\t<div style={ cover } onClick={this.colorClose} />\n\t\t\t\t\t\t\t<div style={ popover }>\n\t\t\t\t\t\t\t\t<SketchPicker color={ this.state.color } onChange={ this.colorSet } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className={'pure-u-5-12 l-box'}>\n\t\t\t\t\t<span> Dataset </span><br/>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tdefaultValue={this.props.selected || null}\n\t\t\t\t\t\tlabel=\"Dataset\"\n\t\t\t\t\t\tclassName=\"basic-single git-option\"\n\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\tvalue={selectedDataset}\n\t\t\t\t\t\tisClearable\n\t\t\t\t\t\tisDisabled={this.props.selected}\n\t\t\t\t\t\tonChange={this.datasetChange}\n\t\t\t\t\t\tfilterOption={createFilter({ignoreAccents: false})}\n\t\t\t\t\t\toptions={this.props.datasets}\n\t\t\t\t\t\tcomponents={{Option: CustomOption}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className={'pure-u-1-3 l-box'}>\n\t\t\t\t\t<span> Genotype </span><br/>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tclassName=\"basic-single git-option\"\n\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\tvalue={selectedGenotype}\n\t\t\t\t\t\tisClearable\n\t\t\t\t\t\tisDisabled={gtOpt.length === 0}\n\t\t\t\t\t\tonChange={this.gtChange}\n\t\t\t\t\t\tfilterOption={createFilter({ignoreAccents: false})}\n\t\t\t\t\t\toptions={gtOpt}\n\t\t\t\t\t\tcomponents={{Option: CustomOption}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{this.props.removeOption !== undefined\n\t\t\t\t\t? <div className={'pure-u-1-12 l-box'}>\n\t\t\t\t\t\t<span>Remove</span>\n\t\t\t\t\t\t<div className={'fake-button git-option'} onClick={()=> this.props.removeOption(idx)} > X </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * custom rendering options for react-select component\n */\nclass CustomOption extends React.Component {\n\trender() {\n\t\tconst {innerProps, isFocused, ...otherProps} = this.props;\n\t\tconst {onMouseMove, onMouseOver, ...otherInnerProps} = innerProps;\n\t\tconst newProps = {innerProps: {...otherInnerProps}, ...otherProps};\n\t\treturn (\n\t\t\t<components.Option {...newProps} className=\"git-option-component\">{this.props.children}\n\t\t\t</components.Option>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport GenotypeSelector from './GenotypeSelect';\n\n/**\n * Select reference genotype\n */\nexport default class ReferenceForm extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<fieldset className={'genotype-field'}>\n\t\t\t\t<legend> Reference Genotype</legend>\n\t\t\t\t<GenotypeSelector\n\t\t\t\t\tdatasets={this.props.datasets}\n\t\t\t\t\tsetDataset={this.props.setDataset}\n\t\t\t\t\tappendDataset={this.props.appendDataset}\n\t\t\t\t\tgenotypes={this.props.genotypes}\n\t\t\t\t\tidx={0}\n\t\t\t\t/>\n\t\t\t</fieldset>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport GenotypeSelector from './GenotypeSelect';\n\n/**\n * Select comparison genotypes\n */\nexport default class CompareForm extends React.Component {\n\n\tstate = {\n\t\toptions: [],\n\t\tcount: 1\n\t};\n\n\tremoveOption = (rm) => {\n\t\tlet options = this.state.options.filter(opt => {\n\t\t\treturn opt.key !== `${rm}`;\n\t\t});\n\t\tthis.props.appendDataset(rm,null);\n\t\tthis.setState({options});\n\t}\n\n\taddOption = () => {\n\t\tlet options = this.state.options.concat([\n\t\t\t<GenotypeSelector\n\t\t\t\tkey={this.state.count}\n\t\t\t\tidx={this.state.count}\n\t\t\t\tselected={this.props.selected}\n\t\t\t\tgenotypes={this.props.genotypes}A\n\t\t\t\tappendDataset={this.props.appendDataset}\n\t\t\t\tremoveOption={this.removeOption}\n\t\t\t/>\n\t\t]);\n\t\tthis.setState({options,count:this.state.count+1});\n\t};\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif(this.props.selected !== prevProps.selected){\n\t\t\tthis.setState({'count':1, 'options':[]})\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<fieldset className={'genotype-field'}>\n\t\t\t\t<legend> Comparison Genotypes </legend>\n\t\t\t\t{this.state.options}\n\t\t\t\t<div\n\t\t\t\t\tclassName={'fake-button'}\n\t\t\t\t\tonClick={this.addOption}\n\t\t\t\t>\n\t\t\t\t\tAdd Comparison\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t);\n\t}\n}","import React from 'react';\nimport Select from 'react-select';\nimport {heatConfig} from './HeatConfig';\nimport {histConfig} from './HistConfig';\nimport {haploConfig} from './HaploConfig';\n\nconst displayFormats = [\n    {\n        value: 'none',\n        label: 'None'\n    },\n    {\n        value: 'hist',\n        label: 'Histogram'\n    },\n    {\n        value: 'heat',\n        label: 'Heatmap'\n    },\n    {\n        value: 'haplo',\n        label: 'Haplotype',\n    },\n];\n\nconst comparisonFormats = [\n    {\n        value: 'diff',\n        label: 'Different'\n    },\n    {\n        value: 'same',\n        label: 'Same'\n    },\n    {\n        value: 'total',\n        label: 'Total'\n    },\n];\n\nconst heatFormat = [\n    {\n        value: 'low',\n        label: 'Min-Max'\n    },\n    {\n        value: 'high',\n        label: 'Max-Min'\n    },\n];\n\nconst heatColorFormat = [\n    {\n        value: 'white',\n        label: 'White'\n    },\n    {\n        value: 'black',\n        label: 'Black'\n    },\n];\n\nexport default class TrackOptions extends React.Component {\n    state = {\n        displayAs: displayFormats[0],\n        compare: comparisonFormats[0],\n        filters: [],\n        heat: heatFormat[0],\n        heatColor: heatColorFormat[0],\n        viewConfig: {},\n        maxValue: 0,\n        minValue: 0,\n    }\n\n    setConfiguration = (format) => {\n        const {compare,filters, maxValue, minValue} = this.state;\n        const side = this.props.side === 'Right';\n        let count = 1;\n        this.props.genotypes.forEach(gt => {if(gt !== null) count++;});\n        switch (format) {\n            case 'heat':\n               return heatConfig(compare,side,minValue,maxValue,filters);\n            case 'hist':\n               return histConfig(compare,side,minValue,maxValue,filters,count);\n            case 'haplo':\n                return haploConfig(compare,side,minValue,maxValue,filters,count);\n            case 'none':\n            default:\n                return {'feature':'none'};\n        }\n    };\n\n    optionsUpdate = (value) => {\n        this.props.optionsUpdate(this.props.side.toLowerCase(),value);\n    }\n\n    displayChange = (displayAs) => {\n        let viewConfig = this.setConfiguration(displayAs.value);\n        if(displayAs.value === 'haplo'){ // make sure haplotype block gets configured correctly\n            const maxValue = this.state.maxValue > 0 ? this.state.maxValue : 1;\n            const minValue = maxValue - 1;\n            this.setState({ displayAs,maxValue,minValue,viewConfig});\n        } else {\n            this.setState({displayAs, viewConfig});\n        }\n        this.optionsUpdate(viewConfig);\n    }\n\n    compareChange = (compare) => {\n        let viewConfig = this.state.viewConfig;\n        viewConfig.feature = compare.value;\n        this.setState({ compare, viewConfig });\n        this.optionsUpdate(viewConfig);\n    }\n\n    filterChange = (filters) => {\n        let viewConfig = this.state.viewConfig;\n        viewConfig.class_filter = filters.map(filter => {if(filter!== null) return filter.value; return false;});\n        this.setState({ filters, viewConfig });\n        this.optionsUpdate(viewConfig);\n    }\n\n    heatColorChange = (heatColor) => {\n        let viewConfig = this.state.viewConfig;\n        viewConfig.class_heat = [heatColor.value];\n        this.setState({ heatColor, viewConfig });\n        this.optionsUpdate(viewConfig);\n    }\n\n    heatChange = (heat) => {\n        let viewConfig = this.state.viewConfig;\n        viewConfig.invert_value = heat.value === 'low' ? 0 : 1;\n        this.setState({ heat, viewConfig });\n        this.optionsUpdate(viewConfig);\n    }\n\n    maxChange = (max) => {\n        const maxValue = parseInt(max.target.value) || 0;\n        let viewConfig = this.state.viewConfig;\n\n        if(this.state.displayAs.value === 'haplo'){\n            const hapMax = maxValue > 0 ? maxValue : 1;\n            const minValue = hapMax -1;\n            viewConfig.bin_max = hapMax;\n            viewConfig.bin_min = minValue;\n            this.setState({maxValue,minValue,viewConfig})\n        } else {\n            viewConfig.bin_max = maxValue;\n            this.setState({maxValue,viewConfig})\n        }\n        this.optionsUpdate(viewConfig);\n    }\n\n    minChange = (min) => {\n        const minValue = parseInt(min.target.value) || 0;\n        let viewConfig = this.state.viewConfig;\n        viewConfig.bin_min = minValue;\n        this.setState({minValue,viewConfig});\n        this.optionsUpdate(viewConfig);\n    }\n\n    render(props,state) {\n        const { displayAs, compare, filters, heatColor, heat, maxValue, minValue } = this.state;\n        const { side, genotypes } = this.props;\n        let filterFormats = [];\n        genotypes.forEach( (gt,count) => {\n            if((compare.value === 'total' || count > 0) && gt !== null){\n                filterFormats = filterFormats.concat( gt.genotype);\n            }\n        });\n\n        let filter = displayAs.value !== 'none'\n            ? (<div className={'pure-u-1-3 l-box'}>\n                    <span>Filter Genotypes</span>\n                    <Select\n                        defaultValue={null}\n                        className=\"basic-multi-select git-option\"\n                        isMulti\n                        isClearable\n                        name={\"filterGT\"}\n                        classNamePrefix=\"select\"\n                        value={filters}\n                        onChange={this.filterChange}\n                        options={filterFormats}\n                    />\n                </div>\n            )\n            : null;\n\n        return (\n            <fieldset className={'genotype-field'}>\n                <legend> {`${side} Options`} </legend>\n                <div className={'pure-g genotype-select'}>\n                    <div className={'pure-u-1-6 l-box'}>\n                        <span>Display Type</span>\n                        <Select\n                            defaultValue={displayFormats[0]}\n                            className=\"basic-single git-option\"\n                            classNamePrefix=\"select\"\n                            value={displayAs}\n                            label={\"Display As:\"}\n                            onChange={this.displayChange}\n                            options={displayFormats}\n                        />\n                    </div>\n                    {displayAs.value !== 'none' ?\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span>Comparison</span>\n                            <Select\n                                defaultValue={comparisonFormats[0]}\n                                className=\"basic-single git-option\"\n                                classNamePrefix=\"select\"\n                                value={compare}\n                                label={`Comparison ${side}`}\n                                onChange={this.compareChange}\n                                options={comparisonFormats}\n                            />\n                        </div>\n                        : null\n                    }\n                    {filter}\n                    {displayAs.value === 'none'\n                        ? null\n                        :\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span>{displayAs.value === 'heat' || displayAs.value === 'hist' ? 'Max Value' : 'Threshold' }</span>\n                            <input type={'text'} value={maxValue} className={'pure-u-1-1 l-box git-option'} id={`max-${side}`} placeholder={'0'} onInput={(e) => this.maxChange(e)}/>\n\n                        </div>\n                    }\n                    {displayAs.value !== 'none' && displayAs.value !== 'haplo'\n                        ?\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span>Min Value</span>\n                            <input type={'text'} value={minValue} className={'pure-u-1-1 l-box git-option'} id={`min-${side}`} placeholder={'0'} onInput={(e) => this.minChange(e)}/>\n                        </div>\n                        :\n                        null\n                    }\n                </div>\n                {displayAs.value === 'heat'\n                    ?\n                    <div className={'pure-g genotype-select'}>\n                        <div className={'pure-u-1-6 l-box'}>\n                            <div className={'pure-u-1-1 l-box'}> <br/> </div>\n                        </div>\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span>Heat Base Color</span>\n                            <Select\n                                defaultValue={heatColorFormat[0]}\n                                className=\"basic-single git-option\"\n                                classNamePrefix=\"select\"\n                                value={heatColor}\n                                onChange={this.heatColorChange}\n                                options={heatColorFormat}\n                            />\n                        </div>\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span>Heat Direction</span>\n                            <Select\n                                defaultValue={heatFormat[0]}\n                                className=\"basic-single git-option\"\n                                classNamePrefix=\"select\"\n                                value={heat}\n                                onChange={this.heatChange}\n                                options={heatFormat}\n                            />\n                        </div>\n                    </div>\n                    :\n                    null}\n            </fieldset>\n        );\n    }\n}","import {binSizeDefault} from \"./DefaultConfiguration\";\n\nexport function heatConfig(compare, side, minValue, maxValue,filters){\n  return {\n      feature: compare.value,\n      glyph: 'measure',\n      display: 'heat',\n      draw_as: 'range',\n      invert_value: 0,\n      min: 0,\n      max: 0,\n      width: 10,\n      offset:  side ? 0 : -0,\n      bin_size: binSizeDefault,\n      bin_min: minValue,\n      bin_max: maxValue,\n      by_class: 1,\n      class_filter: filters.map( filter => filter.value),\n      class_offset: 2,\n      class_heat : ['#fff'],\n      draw_label: 0,\n      max_distance: 5,\n      border: 0,\n      value_base: 10,\n      generate_bins: 0,\n      count_classes: 0,\n      transparent: 0,\n      transparent_percent: 0.0\n  };\n}","import {binSizeDefault} from \"./DefaultConfiguration\";\n\nexport function histConfig(compare,side,minValue,maxValue,filters,count){\nreturn {\n  feature: compare.value,\n  glyph: 'measure',\n  display: 'histogram',\n  count_classes: 0,\n  enable_pileup: 0,\n  generate_bins: 0,\n  offset: side ? 0 : -0,\n  width: 3,\n  bin_min: minValue,\n  bin_max: maxValue,\n  bin_size: binSizeDefault,\n  by_class: 1,\n  class_offset : 0,\n  class_filter: filters.map( filter => filter.value),\n  draw_label: 0,\n  max_distance: count*25,\n  border: 1,\n  border_width :0,\n};\n}","import {binSizeDefault} from \"./DefaultConfiguration\";\n\nexport function haploConfig(compare,side,minValue,maxValue,filters){\n  return {\n    feature : compare.value,\n    glyph: 'measure',\n    display: 'histogram',\n    count_classes: 0,\n    class_offset: 0,\n    class_space : 1,\n    enable_pileup: 0,\n    generate_bins: 0,\n    offset: side ? 0 : -0,\n    width: 3,\n    bin_min: maxValue -1 > 0 ? maxValue - 1 : 0 ,\n    bin_max: maxValue > 0 ?  maxValue : 1,\n    bin_size: binSizeDefault,\n    by_class: 1,\n    class_filter: filters.map( filter => filter.value),\n    draw_label: 0,\n    max_distance: 5,\n    border: 1,\n    border_width: 0,\n  };\n}","/**\n * Options configuration for rulers, bins and other general display.\n */\n\nimport React from 'react';\nimport Select from 'react-select';\nimport {rulerDisplayDefault, binSizeDefault,rulerIntervalDefault,titleDefault} from './DefaultConfiguration';\n\n/**\n * Quick setup for defining ruler options\n * @type {*[]}\n */\n\nconst rulerDisplayOptions = [\n    {\n        value: 'L',\n        label: 'Left'\n    },\n    {\n        value: 'R',\n        label: 'Right'\n    },\n    {\n        value: '1',\n        label: 'Both'\n    },\n    {\n        value: '0',\n        label: 'None'\n    },\n];\n\nexport default class BaseOptions extends React.Component {\n    state = {\n        rulerDisplay : rulerDisplayDefault(rulerDisplayOptions), // Display ruler on LHS\n        binSize : binSizeDefault,   // Default binsize of 500000 bp\n        rulerInterval: rulerIntervalDefault, // Default interval of 5000000 bp\n        title: titleDefault,  // Blank default title\n    };\n\n    /**\n     * Pass updated options back to model\n     * @param value\n     */\n    optionsUpdate = (value) => {\n        this.props.optionsUpdate('general',value);\n    };\n\n    rulerChange = (rulerDisplay) => {\n        let values = this.state;\n        values.rulerDisplay = rulerDisplay;\n        this.setState({rulerDisplay});\n        this.optionsUpdate(values);\n    };\n\n    titleChange = (e) => {\n        const title = e.target.value;\n        let values = this.state;\n        values.title = title;\n        this.setState({title});\n        this.optionsUpdate(values);\n    };\n\n    binChange = (e) => {\n        const binSize = parseInt(e.target.value) || 1;\n        let values = this.state;\n        values.binSize = binSize;\n        this.setState({binSize});\n        this.optionsUpdate(values);\n    };\n\n    intervalChange = (e) => {\n        const rulerInterval = parseInt(e.target.value) || 1;\n        let values = this.state;\n        values.rulerInterval = rulerInterval;\n        this.setState({rulerInterval});\n        this.optionsUpdate(values);\n    };\n\n    render(props,state) {\n        const { rulerDisplay, binSize, rulerInterval, title } = this.state;\n        return (\n            <fieldset className={'genotype-field'}>\n                <legend> General Options </legend>\n                <div className={'pure-g genotype-select'}>\n                    <div className={'pure-u-1-2 l-box'}>\n                        <span> Title </span>\n                        <input type={'text'} value={title} className={'pure-u-1-1 l-box git-option'} id={`title-gen`} placeholder={titleDefault} onInput={e=>this.titleChange(e)} />\n                    </div>\n                    <div className={'pure-u-1-6 l-box'}>\n                        <span> Bin Size </span>\n                        <input type={'text'} value={binSize} className={'pure-u-1-1 l-box git-option'} id={`binsize-gen`} placeholder={binSizeDefault} onInput={e=>this.binChange(e)}/>\n                    </div>\n                    <div className={'pure-u-1-6 l-box'}>\n                        <span> Ruler Display </span>\n                        <Select\n                            defaultValue={rulerDisplayDefault(rulerDisplayOptions)}\n                            className=\"basic-single git-option\"\n                            classNamePrefix=\"select\"\n                            value={rulerDisplay}\n                            label={\"Comparison\"}\n                            onChange={this.rulerChange}\n                            options={rulerDisplayOptions}\n                        />\n                    </div>\n                    {rulerDisplay.value !== '0'\n                        ?\n                        <div className={'pure-u-1-6 l-box'}>\n                            <span> Ruler Interval </span>\n                            <input type={'text'} value={rulerInterval} className={'pure-u-1-1 l-box git-option'} id={`rulertic-gen`}\n                                   placeholder={rulerIntervalDefault} onInput={e=> this.intervalChange(e)}/>\n                        </div>\n                        : null\n                    }\n                </div>\n            </fieldset>\n        );\n    }\n}","import React from 'react';\nimport TrackOptions from \"./TrackOptionsSelect\";\nimport BaseOptions from \"./BaseOptionsSelect\";\nimport {binSizeDefault} from \"./DefaultConfiguration\";\n\n/**\n * Form for controlling LHS/RHS display options\n */\nexport default class OptionsForm extends React.Component {\n\tstate = {\n\t\t'binSize': binSizeDefault,\n\t}\n\n\toptionsUpdate = (group,value) => {\n\t\tlet options = this.props.options;\n\n\t\tlet binSize = this.state.binSize;\n\t\tswitch (group) {\n\t\t\tcase 'left':\n\t\t\t\toptions.left = value;\n\t\t\t\toptions.left.bin_size = binSize;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\toptions.right = value;\n\t\t\t\toptions.right.bin_size = binSize;\n\t\t\t\tbreak;\n\t\t\tcase 'general':\n\t\t\tdefault:\n\t\t\t\tbinSize = value.binSize;\n\t\t\t\toptions.general.title = value.title;\n\t\t\t\toptions.general.tick_interval = value.rulerInterval;\n\t\t\t\toptions.general.display_ruler = value.rulerDisplay.value;\n\t\t\t\toptions.left.bin_size = binSize;\n\t\t\t\toptions.right.bin_size = binSize;\n\t\t\t\tthis.setState({binSize});\n\t\t}\n\t\tthis.props.setOptions(options);\n\t}\n\n\trender(props,state) {\n\t\tconst { genotypes } = this.props;\n\t\treturn (\n\t\t\t<fieldset className={'genotype-field'} >\n\t\t\t\t<legend>Options </legend>\n\t\t\t\t<BaseOptions optionsUpdate={(group,value)=>this.optionsUpdate(group,value)} />\n\t\t\t\t<TrackOptions side={'Left'} genotypes={genotypes} optionsUpdate={(group,value)=>this.optionsUpdate(group,value)}/>\n\t\t\t\t<TrackOptions side={'Right'} genotypes={genotypes} optionsUpdate={(group,value)=>this.optionsUpdate(group,value)}/>\n\t\t\t</fieldset>\n\t\t);\n\t}\n}","import React from 'react';\n\nexport default class About extends React.Component {\n    render () {\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <h6> About </h6>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'pure-u-1-1 l-box modal-section'}>\n                        <p> GCViT: a multiple chromosome visualisation tool for visualizing resequencing or SNP array data. GCViT allows a user to compare multiple accessions to a user selected reference accession from a single dataset and visually identify regions of similarity and difference across the genome. </p>\n                        <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/B2gPVUipWo0\" frameBorder=\"0\"\n                                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                                allowFullScreen title=\"Introduction to GCViT\">\n                        </iframe>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\n\nexport default class ReferenceGenotype extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Reference Genotype </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>\n                                <ul>\n                                    <li> Pick a Color that will represent the reference genome. Please note that this color will only show up when total is indicated in the display options. </li>\n                                    <li> Pick the dataset that has your genotype of interest and will be used in this comparison. All of these datasets (VCF files) can be found at the SoyBase data store located at <a href=\"https://soybase.org/data/public/Glycine_max\"> soybase.org/data/public/Glycine_max </a>\n                                        <br/> Please note this is dataset will also be used in the next section Add a Comparison. </li>\n                                    <li>Select which genotype will be the reference by either typing in the name of the genotype or using the pull down menu to see available genotypes. For comparisons, each selected genotyped with be compared against this reference.</li>\n                                </ul>\n                                *(note for the 50K dataset, it will take a few seconds for the lines to pop up since there are over 20,000 lines in the dataset.)\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class ComparisonGenotype extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Comparison Genotype </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>\n                                <ul>\n                                    <li> Pick a Color that will represent the reference genome. Please note that this color will only show up when total is indicated in the display options. </li>\n                                    <li> At this time, comparisons may only be made within the dataset of the selected reference. </li>\n                                    <li> Select which genotype will be the reference by either typing in the name of the genotype or using the pull down menu to see available genotypes. For comparisons, each selected genotyped with be compared against this reference.</li>\n                                    <li> Remove a comparison by clicking on the X </li>\n                                </ul>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class GeneralOptions extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> General Options </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p> <b>Title</b> <i>Default: blank</i>  Title included on the display. </p>\n                            <p> <b>Bin Size</b> <i>Default: 500000bp</i> Each chromosome is broken down into bins for calculating the requested data. This is the size per bin in base pairs.\n                            It is recommended to not go much lower than this default, as it becomes harder to see differences in the displayed data.</p>\n                            <p> <b>Ruler Display</b> <i>Default: left</i> Where ruler is placed on the generated image. </p>\n                            <p> <b>Ruler Interval</b> <i>Default 5000000</i> Distance in bp between major divisions on the ruler. Each major division will have one minor division between. Any value under 1000000 can lead to a rather cramped display.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class DisplayNone extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Display Type: None </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>Don't render anything on this side of the chromosome backbone.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class DisplayHaplotype extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Display Type: Haplotype </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>Shows SNPs as block regions that only display if the count in the bin meets the provided threshold.</p>\n                            <p>\n                                This Display is good for:\n                                <ul>\n                                    <li> Viewing inheritance when comparing a line with its parents.</li>\n                                </ul>\n                            </p>\n                            <p> <b>Comparison</b> <i>Default: different</i>  Which comparison with the reference to display.\n                                <ul>\n                                    <li><b>Different</b>: Positions where reference and comparison line have different alleles.</li>\n                                    <li><b>Same</b>: Positions where reference and comparison line have the same alleles.</li>\n                                    <li><b>Total</b>: Total number of SNPs for reference and comparison, alongside a count for locations where the allele was undefined.</li>\n                                </ul>\n                            </p>\n                            <p> <b>Filter Genotypes</b> <i>Default: all [blank]</i> Allows the restriction of the displayed genotypes when more-than-one is available,\n                            due to either more-than-one comparison, or using the total comparison. If not empty, only the selected genotypes will display.  This option is useful if the user would like to see the differences between the reference and each comparison on opposite sides of the chromosome.\n                            </p>\n                            <p> <b>Threshold</b> <i>Default: 1</i> The glyph is only drawn if the count matches or exceeds this number.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class DisplayHistogram extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Display Type: Histogram </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>Shows SNPs as block regions with a height that is proportional to the count in the bin and the provided min and max values.\n                                Similar to the heat map option, but uses volume instead of color to indicate bin density.</p>\n                            <p> <b>Comparison</b> <i>Default: different</i>  Which comparison with the reference to display.\n                                <ul>\n                                    <li><b>Different</b>: Positions where reference and comparison line have different alleles.</li>\n                                    <li><b>Same</b>: Positions where reference and comparison line have the same alleles.</li>\n                                    <li><b>Total</b>: Total number of SNPs for reference and comparison, alongside a count for locations where the allele was undefined.</li>\n                                </ul>\n                            </p>\n                            <p> <b>Filter Genotypes</b> <i>Default: all [blank]</i> Allows the restriction of the displayed genotypes when more-than-one is available,\n                            due to either more-than-one comparison, or using the total comparison. If not empty, only the selected genotypes will display.  This option is useful if the user would like to see the differences between the reference and each comparison on opposite sides of the chromosome.\n                            </p>\n                            <p> <b>Min Value</b> <i>Default: 0</i> Value cuttoff for displaying any height on the glyph. Any count equal to or smaller than this number will not be displayed.</p>\n                            <p> <b>Max Value</b> <i>Default: 0</i>  Here, 0 is shorthand for the largest count in the reference across all bins. Value cutoff for displaying maximum height on the glyph. Any count equal to or larger than this number will be displayed as the full height.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class DisplayHeat extends React.Component {\n    state= {hideInfo:true};\n    render () {\n        const {hideInfo} = this.state;\n        return (\n            <div>\n                <div className={'pure-g'}>\n                    <div\n                        className={'pure-u-1-1 l-box fake-button'}\n                        onClick={()=>{this.setState({hideInfo:!hideInfo})}}\n                    >\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                            <div className={'pure-u-5-6 l-box'}> Display Type: Heatmap </div>\n                            <div className={'pure-u-1-12 l-box'} > <div className={hideInfo ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'pure-g'}>\n                    <div className={'help-text pure-g'} style={{maxHeight: hideInfo ? '0px' : '50%'}}>\n                        <div className={'pure-u-1-1 l-box modal-section'}>\n                            <p>Shows SNPs as block regions with a color that is proportional to the count in the bin and the provided min and max values.\n                                Similar to the heat map option, but color instead of volume to indicate bin density.</p>\n                            <p> <b>Comparison</b> <i>Default: different</i>  Which comparison with the reference to display.\n                                <ul>\n                                    <li><b>Different</b>: Positions where reference and comparison line have different alleles.</li>\n                                    <li><b>Same</b>: Positions where reference and comparison line have the same alleles.</li>\n                                    <li><b>Total</b>: Total number of SNPs for reference and comparison, alongside a count for locations where the allele was undefined.</li>\n                                </ul>\n                            </p>\n                            <p> <b>Filter Genotypes</b> <i>Default: all [blank]</i> Allows the restriction of the displayed genotypes when more-than-one is available,\n                            due to either more-than-one comparison, or using the total comparison. If not empty, only the selected genotypes will display.  This option is useful if the user would like to see the differences between the reference and each comparison on opposite sides of the chromosome.\n                            </p>\n                            <p> <b>Min Value</b> <i>Default: 0</i> Value cuttoff for displaying any height on the glyph. Any count equal to or smaller than this number will be displayed as full selected base color.</p>\n                            <p> <b>Max Value</b> <i>Default: 0</i>  Here, 0 is shorthand for the largest count in the reference across all bins. Value cutoff for displaying maximum height on the glyph. Any count equal to or larger than this number will be displayed as the full feature selected color.</p>\n                            <p> <b>Heat Base Color</b> <i>Default: white</i> Choose to go from white -> color or black -> color </p>\n                            <p> <b>Heat Direction</b> <i>Default: Min-Max</i>  Render heat low-to-high as  base -> color (Min-Max) or color -> base (Max-Min) </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport About from \"./HelpTopics/About\";\nimport ReferenceGenotype from \"./HelpTopics/ReferenceGenotype\";\nimport ComparisonGenotype from \"./HelpTopics/ComparisonGenotype\";\nimport GeneralOptions from \"./HelpTopics/GeneralOptions\";\nimport DisplayNone from \"./HelpTopics/DisplayNone\";\nimport DisplayHaplotype from \"./HelpTopics/DisplayHaplotype\";\nimport DisplayHistogram from \"./HelpTopics/DisplayHistogram\";\nimport DisplayHeat from \"./HelpTopics/DisplayHeat\";\n\n/**\n * Container for managing help documentation\n */\nexport default class HelpModal extends React.Component {\n    render () {\n        return(\n            <div className={\"modal-area selector-container\"}>\n                <div className={\"modal-content\"} >\n                    <h5> GCViT - Genotype Comparison Visualisation Tool </h5>\n                    <hr />\n                    <div className={'modal-contents'}>\n                        <About/>\n                        <h6> Genotypes </h6>\n                        <ReferenceGenotype/>\n                        <ComparisonGenotype/>\n                        <h6> Options </h6>\n                        <GeneralOptions/>\n                        <DisplayNone/>\n                        <DisplayHistogram/>\n                        <DisplayHeat/>\n                        <DisplayHaplotype/>\n                    </div>\n                </div>\n                <div className={'modal-close'}>\n                    <button className={'pure-button  button-display modal-confirm'}\n                            onClick={()=>this.props.closeAction()}\n                    > Close </button>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\n\nexport default class DataModal extends React.Component {\n    state = {\n        name: 'cvit',\n        format: 'svg',\n        quality: .95,\n        gffOptions: {\n            'chromosome':true,\n            'diff':true,\n            'same':true,\n            'total':true\n        }\n    };\n\n    exportImage = (blob) => {\n        let url = URL.createObjectURL(blob);\n        this.saveImage(url);\n    };\n\n    saveImage = (url) => {\n        let name = this.state.name !== '' ? this.state.name : 'cvit';\n        name += `.${this.state.format}`;\n        let link = document.createElement('a');\n        link.download = name;\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n    };\n\n    onClickImage = () => {\n        let paper = window.cvit.model.paper;\n        console.log(paper);\n        if(this.state.format === 'svg'){\n            let url = 'data:image/svg+xml;utf8,' +\n                encodeURIComponent(paper.project.exportSVG({asString:true}));\n            this.saveImage(url);\n        } else {\n            paper.project.view.element.toBlob((blob) => this.exportImage(blob));\n        }\n    };\n\n    onClickData = () => {\n        let gff = '##gff-version 3.2.1';\n        let data = window.cvit.model.data;\n        let gffOpts = this.state.gffOptions;\n        for (let group in data) {\n            if(data.hasOwnProperty(group) && gffOpts[group]) {\n                let dataGroup = data[group];\n                if( dataGroup.hasOwnProperty('features')) {\n                    dataGroup.features.forEach(feature => {\n                        let line = `${feature.seqName}\\t${feature.source}\\t${feature.feature}\\t${feature.start}\\t${feature.end}\\t${feature.score}\\t${feature.strand}\\t${feature.frame}`;\n                        let attributes = '';\n                        for (let key in feature.attribute) {\n                            if (feature.attribute.hasOwnProperty(key)) {\n                                attributes += `${key}=${feature.attribute[key]};`\n                            }\n                        }\n                        gff +=`\\n${line}\\t${attributes}`;\n                    });\n                }\n            }\n        }\n        let url = 'data:text/plain;utf8,' +\n            encodeURIComponent(gff);\n        let win = window.open();\n        // noinspection HtmlDeprecatedAttribute\n        win.document.write('<iframe src=\"' + url  + '\" frameborder=\"0\" style=\"border:0; top:0; left:0; bottom:0; right:0; width:100%; height:100%;\" allowfullscreen></iframe>');\n        win.download('gcvit.gff');\n        // link.href = url;\n        // document.body.appendChild(link);\n        // link.click();\n    };\n\n    onInput = (evt) =>{\n        this.setState({name:evt.target.value});\n    };\n\n    onSelect = (evt) => {\n        this.setState({format:evt.target.value});\n    };\n\n    onChecked = (evt) => {\n        let gffOptions = this.state.gffOptions;\n        gffOptions[evt.target.value] = !gffOptions[evt.target.value];\n        this.setState( {gffOptions});\n    };\n\n    render(props,state){\n        let {name,format,gffOptions} = this.state;\n        return(\n            <div className={\"modal-area selector-container\"}>\n                <div className={\"modal-content\"} >\n                    <h5> Downloads </h5>\n                    <hr />\n                    <div className={'modal-contents'}>\n                        <div className={'pure-g'}>\n                            <div className={'pure-u-1-1 l-box cvit cvit-modal'} id={'export-modal'} >\n                                <h5> Download Image </h5>\n                                <p> Download the current view as an image.</p>\n\n                                <form style={{width:'100%'}}>\n                                    <h6> Image Settings: </h6>\n                                    <tbody>\n                                    <tr>\n                                        <td><span>File Name: </span></td>\n                                        <td>\n                                            <input\n                                                type={'text'}\n                                                value={name}\n                                                onInput={(evt)=>this.onInput(evt)}\n                                                placeholder={'cvit'}\n                                            />\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td> <span> File Type: </span> </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-svg'}\n                                                    type={'radio'}\n                                                    value={'svg'}\n                                                    onChange={(evt)=>this.onSelect(evt)}\n                                                    checked={format === 'svg'} />\n                                                <span> svg </span>\n                                            </label>\n                                        </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-png'}\n                                                    type={'radio'}\n                                                    value={'png'}\n                                                    onChange={(evt)=>this.onSelect(evt)}\n                                                    checked={format === 'png'}\n                                                />\n                                                <span> png </span>\n                                            </label>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </form>\n                                <button className={'pure-button button-display modal-confirm'}\n                                        onClick={()=>this.onClickImage()}\n                                > Export Image </button>\n                            </div>\n                        </div>\n                        <div className={'pure-g'}>\n                            <hr />\n                            <div className={'pure-u-1-1 l-box cvit cvit-modal'} id={'export-modal'} >\n                                <h5> Download Data </h5>\n                                <p> Download data as a gff </p>\n\n                                <form style={{width:'100%'}}>\n                                    <h6> GFF Settings: </h6>\n                                    <tbody>\n                                    <tr>\n                                        <td> <span> Include: </span> </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-chr'}\n                                                    type={'checkbox'}\n                                                    value={'chromosome'}\n                                                    onChange={(evt)=>this.onChecked(evt)}\n                                                    checked={gffOptions.chromosome}\n                                                />\n                                                <span> chromosome </span>\n                                            </label>\n                                        </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-diff'}\n                                                    type={'checkbox'}\n                                                    value={'diff'}\n                                                    onChange={(evt)=>this.onChecked(evt)}\n                                                    checked={gffOptions.diff}\n                                                />\n                                                <span> different </span>\n                                            </label>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>  </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-same'}\n                                                    type={'checkbox'}\n                                                    value={'same'}\n                                                    onChange={(evt)=>this.onChecked(evt)}\n                                                    checked={gffOptions.same}\n                                                />\n                                                <span> same </span>\n                                            </label>\n                                        </td>\n                                        <td>\n                                            <label>\n                                                <input\n                                                    id={'opt-total'}\n                                                    type={'checkbox'}\n                                                    value={'total'}\n                                                    onChange={(evt)=>this.onChecked(evt)}\n                                                    checked={gffOptions.total}\n                                                />\n                                                <span> total </span>\n                                            </label>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </form>\n\n                                <button className={'pure-button button-display modal-confirm'}\n                                        onClick={()=>this.onClickData()}\n                                > Download Data </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={'modal-close'}>\n                    <button className={'pure-button  button-display modal-confirm'}\n                            onClick={()=>this.props.closeAction()}\n                    > Close </button>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport {binSizeDefault} from \"./DefaultConfiguration\";\n\n/**\n * Button to send request for gff to server and add results to cvit image.\n */\n\nexport default class DisplayButton extends React.Component {\n    state = {\n        priorRequest:{\n            request:'',\n            interval:50000,\n            response:{}\n        },\n    };\n\n    onSubmit = () => {\n        const { selected, options } = this.props;\n        const {priorRequest} = this.state;\n        let {headers} = this.props\n        let requestString = '';\n        let classes = {};\n        let count = 0;\n        selected.forEach((query, i) => {\n            if (query !== null && query.hasOwnProperty('dataset') && query.hasOwnProperty('genotype')\n                && query.dataset != null && query.genotype != null){\n                count++;\n                requestString =  i === 0 ? requestString+'Ref=' : requestString+'&Variant=';\n                requestString = requestString+encodeURIComponent(`${query.dataset.value}:${query.genotype.value}`);\n                classes[query.genotype.value] = query.color;\n            } else if(i === 0){\n                throw new Error('Reference must be selected.')\n            }\n        });\n        classes['undefined'] = 'black';\n        // Configure cvit model for new view\n        let cvit = window.cvit;\n        let model = cvit.model;\n        model._viewConfig.classes = classes;\n\n        const binSize = options.left.hasOwnProperty('bin_size') ? options.left.bin_size :\n            options.right.hasOwnProperty('bin_size') ? options.right.bin_size : binSizeDefault;\n        requestString = requestString + \"&Bin=\" + encodeURIComponent(binSize);\n        this.props.hide();\n        //fetch new data\n        if( (priorRequest.request !== requestString) ||\n            (binSize !== priorRequest.interval )\n        ) {\n            document.getElementById('cvit-app').style.visibility = 'visible';\n            this.setState({hideOptions:true});\n            model._viewData.same = {};\n            model._viewData.diff = {};\n            model._viewData.total = {};\n\n            headers.append(\"Content-Type\", \"application/x-www-form-urlencoded\")\n            console.log('auth-header', headers)\n\n            model.appendData('api/generateGff', {\n                method: 'POST',\n                headers: headers,\n                body: requestString,\n            })\n                .then(() =>{\n                    model._viewLayout.chrOrder = model._setChrOrder(model._viewData);\n                    let refMax = 0;\n                    let vd = model._viewData;\n                    Object.keys(vd.total).forEach(key => {\n                        let chr = vd.total[key];\n                        if (chr.hasOwnProperty('maxScore') && chr.maxScore.value > refMax) refMax = chr.maxScore.value;\n                    });\n                    this.setState({priorRequest:{response: model._viewData, request:requestString, interval:binSize, refMax}});\n                    this.setView(options, model, count,refMax);\n                })\n                .catch(e => {\n                    console.error('cvit.js: Error requesting data: ', e);\n                });\n        } else {\n            this.setView(options, model,count);\n        }\n    };\n    setView = (options,model,count,refMax) =>{\n    //  let vd = model._viewData;\n    //  Object.keys(vd.total).forEach(key => {\n    //      let chr = vd.total[key];\n    //      if (chr.hasOwnProperty('maxScore') && chr.maxScore.value > max) max = chr.maxScore.value;\n    //  });\n    if(options.left.bin_max === 0){\n        options.left.bin_max = options.left.display === 'heat' ? refMax : refMax*count;\n    }\n    if(options.right.bin_max === 0){\n        options.right.bin_max = options.right.display === 'heat' ? refMax : refMax*count;\n    }\n    model._viewConfig.left.class_heat = [];\n    model._viewConfig.right.class_heat = [];\n    model._viewConfig.left.class_filter = [];\n    model._viewConfig.right.class_filter = [];\n    model._viewConfig = model._combineObjects(model._viewConfig, options);\n    model._redraw = true;\n    model.setDirty(true);\n    model._inform();\n};\n    render () {\n        return(\n            <button className={'pure-u-1-4 pure-button-primary button-action pure-button'} onClick={this.onSubmit}> Display </button>\n        );\n    }\n\n}\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nimport ReferenceForm from './Components/ReferenceForm';\nimport CompareForm from './Components/CompareForm';\nimport OptionsForm from './Components/OptionsForm';\nimport HelpModal from './Components/HelpModal'\nimport DataModal from \"./Components/DownloadModal\";\nimport DisplayButton from \"./Components/DisplayButton\";\n// import GenotypeSelector from \"./Components/GenotypeSelect\";\n// import Select, {createFilter} from \"react-select\";\n import {rulerIntervalDefault, titleDefault} from \"./Components/DefaultConfiguration\";\n\nexport default class App extends React.Component {\n    state = {\n        datasets:[], //Datasets available from service\n        genotypes: {}, //All genotypes available in selected dataset\n        referenceDataset: null, //Dataset reference was chosen from\n        selected:[], //All selected datasets+genotypes for comparison\n        options: { //General configuration for selected data options\n            left:{\n                feature : 'none',\n                offset : -0,\n                draw_label : 0,\n            },\n            right:{\n                feature : 'none',\n                offset : 0,\n                draw_label : 0,\n            },\n            general:{\n                title: titleDefault,\n                display_ruler: 'L',\n                tick_interval: rulerIntervalDefault,\n            },\n        },\n        hideOptions: false, //show/hide the gcvit configuration UI\n        showModal: '', //show/hide overlay modals (dl/help)\n        auth: process.env.REACT_APP_USE_AUTH,\n        user: '',\n        pwd: '',\n        authHeader: new Headers(),\n    };\n\n    /**\n     * GET request to API to fetch the available datasets to populate options\n     **/\n    loadDatasets = (header = this.state.authHeader) => {\n        fetch('api/experiment',{method:\"GET\", headers: header})\n            .then( response => response.json())\n            .then( datasets => {\n                this.setState({datasets});\n            })\n    };\n\n    /**\n     * Append a new comparison set to the display array\n     * @param idx  index to add value to array\n     * @param value color+dataset+genotype object to append\n     */\n    appendDataset = (idx,value) => {\n        let selected = this.state.selected.slice();\n        selected[idx]=value;\n        this.setState({selected});\n    };\n\n    /**\n     * GET request to populate the genotype array\n     * @param referenceDataset dataset to draw genotypes from\n     */\n\n    setDataset = (referenceDataset) => {\n        let val = referenceDataset.value;\n        if( !this.state.genotypes[val]){\n            fetch(`api/experiment/${val}`,{method:\"GET\", headers: this.state.authHeader})\n                .then(result => result.json())\n                .then( genotype => {\n                    let genotypes = JSON.parse(JSON.stringify(this.state.genotypes));\n                    genotypes[val] = genotype;\n                    this.setState({referenceDataset, genotypes, selected:[]})\n                })\n        } else {\n            this.setState({referenceDataset,selected:[]})\n        }\n    };\n\n    /**\n     * Edit display options\n     * @param options display options\n     */\n    setOptions = (options) => {\n        this.setState(options);\n    };\n\n    /**\n     * Hide help/download modal at close\n     */\n    handleCloseModal = () => this.setState({ showModal: '' });\n\n    /**\n     * Display help/download modal at open\n     * @param showModal\n     */\n    handleOpenModal = (showModal) => this.setState({showModal});\n\n    /**\n     * Username update\n     */\n    userChange = (e) => {\n        const user = e.target.value;\n        this.setState({user});\n    };\n\n    passwordChange = (e) => {\n        const pwd = e.target.value;\n        this.setState({pwd});\n    };\n\n    checkAuthState = () => {\n        const authString = btoa(this.state.user+':'+this.state.pwd);\n        let authHeader = new Headers();\n        authHeader.append('Authorization', 'Basic '+ authString);\n        fetch('/login', {method:'GET', headers:authHeader})\n            .then (response => {\n                if( response.status === 202 ) {\n                    this.setState({authHeader});\n                    this.loadDatasets()\n                } else {\n                    window.alert(\"Invalid credentials.\")\n                }\n            })\n    };\n\n    logout = () => {\n        const authHeader = new Headers();\n        const pwd = \"\";\n        const user = \"\";\n        let datasets = [];\n        this.setState({authHeader, user, pwd, datasets});\n        this.loadDatasets(authHeader);\n    };\n\n    /**\n     * After UI mounts, hide cvit-app until first comparison request is made, and populate\n     * list of available datasets\n     */\n    componentDidMount() {\n        document.getElementById('cvit-app').style.visibility = 'hidden';\n        this.loadDatasets()\n    };\n\n    render() {\n        const { selected, options, hideOptions, showModal, auth, user, authHeader } = this.state;\n        let gts = this.state.referenceDataset !== null && this.state.genotypes[this.state.referenceDataset.value] !== undefined\n            ? this.state.genotypes[this.state.referenceDataset.value]\n            : [];\n\n        return (\n            <div className={'selector-container'}>\n                <ReactModal\n                    isOpen={showModal === 'data'}\n                    onRequestClose={this.handleCloseModal}\n                    shouldCloseOnOverlayClick={true}\n                >\n                    <DataModal closeAction={()=>this.handleOpenModal()} />\n                </ReactModal>\n                <ReactModal\n                    isOpen={showModal === 'help'}\n                    onRequestClose={this.handleCloseModal}\n                    shouldCloseOnOverlayClick={true}\n                >\n                        <HelpModal closeAction={()=>this.handleOpenModal()} />\n                </ReactModal>\n\n                <div\n                    className={'pure-u-1-1 l-box fake-button'}\n                    onClick={()=>{this.setState({hideOptions:!hideOptions})}}\n                >\n                    <div className={'pure-g'}>\n                        <div className={'pure-u-1-12 l-box'} > <div className={hideOptions ? 'arrow-down rotate':'arrow-down'}/> </div>\n                        <div className={'pure-u-5-6 l-box'}> Configure View </div>\n                        <div className={'pure-u-1-12 l-box'} > <div className={hideOptions ? 'arrow-down rotate':'arrow-down'}/> </div>\n                    </div>\n                </div>\n                <form className={'display-options'} style={{maxHeight: hideOptions ? '0px' : '100%', overflow: hideOptions ? 'hidden' : 'visible'}}>\n                    { auth === \"TRUE\" ?\n                       !authHeader.has(\"Authorization\") ?\n                            <fieldset className={'genotype-field'}>\n                                <legend> Login </legend>\n                                <div className={'pure-g genotype-select'}>\n                                    <div className={'pure-u-5-12 l-box '}>\n                                        <input type={'text'} className={'pure-u-1-1 l-box git-option'} placeholder={'username'} onInput={e=>this.userChange(e)} />\n                                    </div>\n                                    <div className={'pure-u-5-12 l-box'}>\n                                        <input type={'password'} className={'pure-u-1-1 l-box git-option'} placeholder={'password'} onInput={e=>this.passwordChange(e)} />\n                                    </div>\n                                    <div className={'pure-u-2-12 l-box'}>\n                                        <div className={'fake-button git-option'} onClick={()=> this.checkAuthState()} > Login </div>\n                                    </div>\n                                </div>\n                            </fieldset>\n                            :\n                            <fieldset className={'genotype-field'}>\n                                <legend> Login </legend>\n                                <div className={'pure-g genotype-select'}>\n                                    <div className={'pure-u-10-12 l-box '}>\n                                        <div className={'pure-u-1-1 l-box'} style={{\"width\":\"100%\"}}> {`Logged in as ${user}`} </div>\n                                    </div>\n                                    <div className={'pure-u-2-12 l-box'}>\n                                        <div className={'fake-button git-option'} onClick={()=> this.logout()} > Logout </div>\n                                    </div>\n                                </div>\n                            </fieldset>\n                        :\n                        null\n                    }\n                    <ReferenceForm datasets={this.state.datasets} setDataset={this.setDataset} appendDataset={this.appendDataset} genotypes={gts} />\n                    { selected.length > 0 && selected[0].genotype !== null\n                        ? <CompareForm selected={this.state.referenceDataset} genotypes={gts} appendDataset={this.appendDataset} />\n                        : null\n                    }\n                    <OptionsForm setOptions ={this.setOptions} genotypes={selected} options={options}/>\n                </form>\n                <div className={'pure-g'}>\n                    <DisplayButton selected={selected} options={options} headers={authHeader} hide={()=>{this.setState({hideOptions:true});}}/>\n                    <div className={'pure-u-5-24 '}><br /></div>\n                    <button className={'pure-u-1-4  pure-button button-display'} onClick={()=>this.handleOpenModal('data')}> Download </button>\n                    <div className={'pure-u-1-24'} />\n                    <button className={'pure-u-1-4  pure-button button-display'} onClick={()=>this.handleOpenModal('help')}> Help </button>\n                </div>\n            </div>\n        );\n    };\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import '../node_modules/skeleton.css/skeleton.css';\nimport 'purecss/build/grids.css';\nimport 'purecss/build/buttons.css';\nimport './index.css';\nimport './selector.css';\nimport './style.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('selector-app'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}